{"version":3,"sources":["assets/images/datopian-logo.png","components/Header/index.js","context/FileContext.js","components/Breadcrumb/index.js","components/Pager/index.js","components/FileUpload/index.js","Home.js","Preview.js","Detail.js","Publish.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","react_default","a","createElement","className","role","NavLink","to","alt","src","logo","React","Component","FileContext","createContext","FileProvider","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","file","data","type","metadata","step","fileUpload","bind","assertThisInitialized","stepChange","updateMetadata","loadDefault","cancelUpload","_this2","Papa","parse","complete","cols","meta","fields","map","key","accessor","setState","header","e","formData","title","target","value","_this3","download","name","files","fileData","attributes","getNamedItem","Provider","props","children","FileConsumer","Consumer","NavBar","breadcrumb","Fragment","onClick","aria-current","aria-label","_ref","Pager","pager","FileUpload","upload","onChange","accept","Home","id","aria-hidden","FileUpload_FileUpload","Preview","es","defaultPageSize","columns","Redirect","log","console","Publish","lib_default","schema","dataset","uiSchema","onSubmit","onError","App","home","src_Home","preview","src_Preview","detail","Detail","publish","src_Publish","BrowserRouter","basename","process","FileContext_FileProvider","components_Header","Breadcrumb_NavBar","Route","exact","path","render","Pager_Pager","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ae4715f2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/datopian-logo.a5f7af6f.png\";","import React from 'react';\nimport logo from '../../assets/images/datopian-logo.png';\nimport { NavLink as Link } from 'react-router-dom';\n\nclass Header extends React.Component {\n\n    render() {\n      return (\n        <header className=\"navigation\" role=\"banner\">\n          <div className=\"navigation-wrapper\">\n            <div className=\"branding\">\n              <Link className='logo' to=\"/\"><img alt=\"logo\" src={logo}/></Link>\n            </div>\n          </div>\n        </header>\n      );\n    }\n}\n\nexport default Header;\n","import React from 'react'\nimport Papa from 'papaparse';\n//import DataJS from 'data.js';\n\nconst FileContext = React.createContext()\n\nclass FileProvider extends React.Component {\n  state = {\n    file: false,\n    data: null,\n    type: null,\n    metadata: {},\n    step: \"home\"\n  }\n\n  constructor() {\n    super();\n    this.fileUpload = this.fileUpload.bind(this);\n    this.stepChange = this.stepChange.bind(this);\n    this.updateMetadata = this.updateMetadata.bind(this);\n    this.loadDefault = this.loadDefault.bind(this);\n    this.cancelUpload = this.cancelUpload.bind(this);\n  }\n\n  fileData(file) {\n    return Papa.parse(file, {\n\t    complete: (data) => {\n        data.cols = data.meta.fields.map((key) => {\n          key = key ? key : ' ';\n          return {\n            Header: key,\n            accessor: key,\n          }\n        });\n        this.setState({data});\n\t    },\n      header: true\n    });\n  }\n\n  cancelUpload() {\n    const file = null;\n    this.setState({file});\n  }\n\n  updateMetadata(e) {\n    // This means we are using the json schema form.\n    if ('edit' in e) {\n      const metadata = e.formData;\n      this.setState({metadata});\n    }\n    else {\n      const metadata = this.state.metadata;\n      metadata.title = e.target.value\n      this.setState({metadata});\n    }\n  }\n\n  loadDefault(e) {\n    Papa.parse(\"https://s3.amazonaws.com/dkan-default-content-files/files/Polling_Places_Madison_0.csv\", {\n      download: true,\n      complete: (data) => {\n        data.cols = data.meta.fields.map((key) => {\n          key = key ? key : ' ';\n          return {\n            Header: key,\n            accessor: key,\n          }\n        });\n        const file = {\n          name: \"Polling_Places_Madison.csv\"\n        }\n        this.setState({data, file});\n      },\n      header: true\n    });\n  }\n\n  async fileUpload(e) {\n    const file = e.target.files[0];\n    if (file.type === 'text/csv') {\n      this.fileData(file);\n      this.setState({ file, type: null });\n    } else {\n      this.setState({ type: \"wrong\"});\n    }\n  }\n\n  stepChange(e) {\n    const step = e.target.attributes.getNamedItem('data').value;\n    this.setState({step: step});\n  }\n\n  render() {\n    // Start with the file name if we don't have a title yet.\n    if (!('title' in this.state.metadata) && this.state.file && 'name' in this.state.file) {\n      this.state.metadata.title = this.state.file.name; // eslint-disable-line react/no-direct-mutation-state\n    }\n\n    return (\n      <FileContext.Provider\n        value={{\n          file: this.state.file,\n          fileUpload: this.fileUpload,\n          step: this.state.step,\n          data: this.state.data,\n          metadata: this.state.metadata,\n          updateMetadata: this.updateMetadata,\n          loadDefault: this.loadDefault,\n          cancelUpload: this.cancelUpload,\n          type: this.state.type,\n          stepChange: this.stepChange\n        }}\n      >\n        {this.props.children}\n      </FileContext.Provider>\n    )\n  }\n}\n\nconst FileConsumer = FileContext.Consumer\n\nexport { FileProvider, FileConsumer }\n","import React from 'react';\nimport { NavLink as Link } from 'react-router-dom';\nimport { FileConsumer } from '../../context/FileContext';\n\nexport default class NavBar extends React.Component {\n\n  step(file, step, stepChange) {\n    let breadcrumb = (<div/>);\n    if (step === \"home\" && file === false) {\n      breadcrumb = (<li className=\"breadcrumb-item\">Home</li>);\n    }\n    else if (step === \"home\") {\n      breadcrumb = (\n        <>\n        <li className=\"breadcrumb-item\">Home</li>\n        </>\n      );\n    }\n    else if (step === \"preview\") {\n      breadcrumb = (\n        <>\n        <li className=\"breadcrumb-item\"><Link data=\"home\" onClick={stepChange} to=\"/\">Home</Link></li>\n        <li className=\"breadcrumb-item active\" aria-current=\"page\">Preview</li>\n        </>\n      );\n    }\n    else if (step === \"publish\") {\n      breadcrumb = (\n        <>\n        <li className=\"breadcrumb-item\"><Link data=\"home\" onClick={stepChange} to=\"/\">Home</Link></li>\n        <li className=\"breadcrumb-item\"><Link data=\"preview\" onClick={stepChange} to=\"/preview\">Preview</Link></li>\n        <li className=\"breadcrumb-item active\" aria-current=\"page\">Publish</li>\n        </>\n      );\n    }\n    return breadcrumb;\n  }\n  render() {\n    return (\n      <nav aria-label=\"breadcrumb\">\n        <ol className=\"breadcrumb\">\n          <FileConsumer>\n            {({ file, stepChange, step }) => (\n              <>\n              {this.step(file, step, stepChange)}\n              </>\n            )}\n          </FileConsumer>\n        </ol>\n      </nav>\n    );\n  }\n}\n","import React from 'react';\nimport { NavLink as Link } from 'react-router-dom';\nimport { FileConsumer } from '../../context/FileContext';\n\nexport default class Pager extends React.Component {\n\n  step(file, step, stepChange) {\n    let pager = (<div/>);\n    if (step === \"home\" && file === false) {\n      pager = (<div/>);\n    }\n    else if (step === \"home\") {\n      pager = (\n        <>\n        <li className=\"page-item\"><Link data=\"preview\" onClick={stepChange} to=\"/preview\" className=\"page-link\">Next</Link></li>\n        </>\n      );\n    }\n    else if (step === \"preview\") {\n      pager = (\n        <>\n        <li className=\"page-item\"><Link data=\"home\" onClick={stepChange} to=\"/\" className=\"page-link\">Previous</Link></li>\n        <li className=\"page-item\"><Link data=\"detail\" onClick={stepChange} to=\"/detail\" className=\"page-link\">Next</Link></li>\n\n        </>\n      );\n    }\n    else if (step === \"detail\") {\n      pager = (\n        <>\n        <li className=\"page-item\"><Link data=\"preview\" onClick={stepChange} to=\"/preview\" className=\"page-link\">Previous</Link></li>\n        <li className=\"page-item\"><Link data=\"publish\" onClick={stepChange} to=\"/publish\" className=\"page-link\">Next</Link></li>\n        </>\n      );\n    }\n    else if (step === \"publish\") {\n      pager = (\n        <>\n        <li className=\"page-item\"><Link data=\"detail\" onClick={stepChange} to=\"/detail\" className=\"page-link\">Previous</Link></li>\n        </>\n      );\n    }\n    return pager;\n  }\n\n\n  render() {\n    return (\n      <nav aria-label=\"Page navigation example\" className=\"container-fluid\">\n        <ul className=\"pagination\">\n          <FileConsumer>\n            {({ file, stepChange, step }) => (\n              <>\n                {file ? (\n                  <>\n                    {this.step(file, step, stepChange)}\n                  </>\n                ) : (\n                  ''\n                )}\n              </>\n            )}\n          </FileConsumer>\n        </ul>\n      </nav>\n    );\n  }\n}\n","import React from 'react';\nimport { FileConsumer } from '../../context/FileContext';\n\nexport default class FileUpload extends React.Component {\n\n  render() {\n    const { upload } = this.props;\n    return (\n      <FileConsumer>\n         {({ file, stepChange, step }) => (\n          <div className=\"file-upload\">\n            <div className=\"file-upload-wrap\">\n              <input className=\"file-upload-input\" type='file' onChange={upload} accept=\"csv\" />\n              <div className=\"drag-text\">\n                <h3>Drag and drop a file or select add File</h3>\n              </div>\n            </div>\n            <div className=\"file-upload-content\">\n              <img className=\"file-upload-file\" src=\"#\" alt=\"your file\" />\n              <div className=\"file-title-wrap\">\n                <button type=\"button\" onClick={upload} className=\"remove-file\">Remove <span className=\"file-title\">Uploaded File</span></button>\n              </div>\n            </div>\n          </div>\n      )}\n      </FileConsumer>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport FileUpload from './components/FileUpload';\n\nimport { FileConsumer } from './context/FileContext';\n\nclass Home extends Component {\n\n  render() {\n\n    return (\n      <>\n      <main role=\"main\" className=\"container-fluid\">\n        <h1>Welcome</h1>\n        <p className=\"lead\">This is the home page.</p>\n        <FileConsumer>\n          {({ file, fileUpload, type, loadDefault, cancelUpload }) => (\n            <div>\n                {type === \"wrong\" ? (\n                  <div className=\"alert alert-danger\" role=\"alert\">Hey there. We only accept CSVs.</div>\n                ) : (\n                  <></>\n                )}\n                {file ? (\n                  <div id=\"file-desc\">\n                    <p>You have selected:</p>\n                    <div id=\"file-name\">{file.name}</div>\n                    <button id=\"file-close\" type=\"button\" onClick={cancelUpload} className=\"close btn btn-outline-warning\" aria-label=\"Close\">\n                      <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                  </div>\n                ) : (\n\n                  <>\n                  <FileUpload upload={fileUpload} />\n                  <p>or</p>\n                  <p><button onClick={loadDefault} >Click here to use an example file.</button></p>\n                  </>\n                )}\n            </div>\n          )}\n        </FileConsumer>\n      </main>\n      </>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport { FileConsumer } from './context/FileContext';\nimport { Redirect } from 'react-router'\nimport 'react-table/react-table.css';\nimport ReactTable from 'react-table';\n\nclass Preview extends Component {\n\n\n  render() {\n    return (\n      <>\n      <main role=\"main\" className=\"container-fluid\">\n        <h1>Preview</h1>\n        <p className=\"lead\">This is the preview page.</p>\n        <FileConsumer>\n          {({ file, data, metadata, updateMetadata }) => (\n            <div>\n                {file && data ? (\n                  <div>\n\t\t\t\t\t\t\t\t\t\t<input id=\"title\" onChange={updateMetadata} value={metadata.title} type=\"text\" />\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t <ReactTable\n\t\t\t\t\t\t\t\t\t\t\tdata={data.data}\n\t\t\t\t\t\t\t\t\t\t\tdefaultPageSize={5}\n\t\t\t\t\t\t\t\t\t\t\tcolumns={data.cols} />\n                    </p>\n\t\t\t\t\t\t\t\t\t</div>\n                ) : (\n                  <Redirect to=\"/\"/>\n                )}\n            </div>\n          )}\n        </FileConsumer>\n\n      </main>\n      </>\n    );\n  }\n}\n\nexport default Preview;\n","import React, { Component } from 'react';\nimport { FileConsumer } from './context/FileContext';\nimport { Redirect } from 'react-router'\nimport dataset from './schemas/simple/dataset.json';\nimport uiSchema from './schemas/simple/UISchema.json';\nimport Form from \"react-jsonschema-form\";\n\nconst log = (type) => console.log.bind(console, type);\n\nclass Publish extends Component {\n\n  fileUpload() {\n    return (\n      <div>No file</div>\n    );\n  }\n\n  render() {\n\n    return (\n      <>\n      <main role=\"main\" className=\"container-fluid\">\n        <h1>Detail</h1>\n        <p className=\"lead\">Time to add metadata.</p>\n        <FileConsumer>\n          {({ file, updateMetadata, metadata }) => (\n            <div>\n                {file ? (\n                  <div>\n\t\t\t\t\t\t\t\t\t\t<Form schema={dataset}\n\t\t\t\t\t\t\t\t\t\t\tformData={metadata}\n\t\t\t\t\t\t\t\t\t\t\tuiSchema={uiSchema.dataset}\n\t\t\t\t\t\t\t\t\t\t\tonChange={updateMetadata}\n\t\t\t\t\t\t\t\t\t\t\tonSubmit={log(\"submitted\")}\n\t\t\t\t\t\t\t\t\t\t\tonError={log(\"errors\")}>\n\t\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t\t\t</div>\n                ) : (\n                  <Redirect to=\"/\"/>\n                )}\n            </div>\n          )}\n        </FileConsumer>\n\n      </main>\n      </>\n    );\n  }\n}\n\nexport default Publish;\n","import React, { Component } from 'react';\nimport { FileConsumer } from './context/FileContext';\nimport { Redirect } from 'react-router'\n\nclass Publish extends Component {\n\n  fileUpload() {\n    return (\n      <div>No file</div>\n    );\n  }\n\n  render() {\n\n    return (\n      <>\n      <main role=\"main\" className=\"container-fluid\">\n        <h1>Publish</h1>\n        <p className=\"lead\">This is the publish page.</p>\n        <FileConsumer>\n          {({ file }) => (\n            <div>\n                {file ? (\n                  <div><p>We still have a file!</p></div>\n                ) : (\n                  <Redirect to=\"/\"/>\n                )}\n            </div>\n          )}\n        </FileConsumer>\n\n      </main>\n      </>\n    );\n  }\n}\n\nexport default Publish;\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport Header from './components/Header';\nimport Breadcrumb from './components/Breadcrumb';\nimport Pager from './components/Pager';\n\nimport Home from './Home'\nimport Preview from './Preview'\nimport Detail from './Detail'\nimport Publish from './Publish'\n\nimport { FileProvider } from './context/FileContext';\n\nclass App extends Component {\n  render() {\n    const home =   <Home />\n    const preview = <Preview />\n    const detail =   <Detail />\n    const publish =   <Publish />\n    return (\n      <div>\n        <div className='App'>\n          <Router basename={process.env.PUBLIC_URL}>\n            <FileProvider>\n              <Header />\n              <Breadcrumb />\n              <Route exact={true} path='/' render={()=>(home)} />\n              <Route exact={true} path='/preview' render={()=>(preview)} />\n              <Route exact={true} path='/detail' render={()=>(detail)} />\n              <Route exact={true} path='/publish' render={()=>(publish)} />\n              <Pager />\n            </FileProvider>\n          </Router>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './assets/css/datopian.css';\nimport './assets/css/fileupload.css';\nimport './assets/css/custom.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}